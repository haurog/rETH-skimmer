function e(e,r,a,t){Object.defineProperty(e,r,{get:a,set:t,enumerable:!0,configurable:!0})}var r=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire95ce;r.register("8izpR",(function(a,t){e(a.exports,"offchainLookupSignature",(()=>p)),e(a.exports,"offchainLookup",(()=>b));var s=r("enWAP"),o=r("7I1TK"),n=r("2ptTg"),d=r("2G5Zu"),c=r("gIoH8"),i=r("49ypl"),l=r("h4ww9"),u=r("fGxw3"),f=r("fz8dz");const p="0x556f1830",h={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function b(e,{blockNumber:r,blockTag:a,data:t,to:p}){const{args:b}=(0,d.decodeErrorResult)({data:t,abi:[h]}),[y,g,w,m,k]=b;try{if(!(0,i.isAddressEqual)(p,y))throw new(0,o.OffchainLookupSenderMismatchError)({sender:y,to:p});const t=await async function({data:e,sender:r,urls:a}){let t=new Error("An unknown error occurred.");for(let s=0;s<a.length;s++){const d=a[s],c=d.includes("{sender}")||d.includes("{data}")?"GET":"POST",i="POST"===c?{data:e,sender:r}:void 0;try{const a=await fetch(d.replace("{sender}",r).replace("{data}",e),{body:JSON.stringify(i),method:c});let s;if(s=a.headers.get("Content-Type")?.startsWith("application/json")?(await a.json()).data:await a.text(),!a.ok){t=new(0,n.HttpRequestError)({body:i,details:(0,f.stringify)(s.error)||a.statusText,headers:a.headers,status:a.status,url:d});continue}if(!(0,u.isHex)(s)){t=new(0,o.OffchainLookupResponseMalformedError)({result:s,url:d});continue}return s}catch(e){t=new(0,n.HttpRequestError)({body:i,details:e.message,url:d})}}throw t}({data:w,sender:y,urls:g}),{data:d}=await(0,s.call)(e,{blockNumber:r,blockTag:a,data:(0,l.concat)([m,(0,c.encodeAbiParameters)([{type:"bytes"},{type:"bytes"}],[t,k])]),to:p});return d}catch(e){throw new(0,o.OffchainLookupError)({callbackSelector:m,cause:e,data:t,extraData:k,sender:y,urls:g})}}})),r.register("7I1TK",(function(a,t){e(a.exports,"OffchainLookupError",(()=>d)),e(a.exports,"OffchainLookupResponseMalformedError",(()=>c)),e(a.exports,"OffchainLookupSenderMismatchError",(()=>i));var s=r("fz8dz"),o=r("2juPe"),n=r("58eft");class d extends o.BaseError{constructor({callbackSelector:e,cause:r,data:a,extraData:t,sender:s,urls:o}){super(r.shortMessage||"An error occurred while fetching for an offchain result.",{cause:r,metaMessages:[...r.metaMessages||[],r.metaMessages?.length?"":[],"Offchain Gateway Call:",o&&["  Gateway URL(s):",...o.map((e=>`    ${(0,n.getUrl)(e)}`))],`  Sender: ${s}`,`  Data: ${a}`,`  Callback selector: ${e}`,`  Extra data: ${t}`].flat()}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"OffchainLookupError"})}}class c extends o.BaseError{constructor({result:e,url:r}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${(0,n.getUrl)(r)}`,`Response: ${(0,s.stringify)(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"OffchainLookupResponseMalformedError"})}}class i extends o.BaseError{constructor({sender:e,to:r}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${r}`,`OffchainLookup sender address: ${e}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"OffchainLookupSenderMismatchError"})}}})),r.register("49ypl",(function(a,t){e(a.exports,"isAddressEqual",(()=>n));var s=r("3vxBz"),o=r("2U8Nn");function n(e,r){if(!(0,o.isAddress)(e))throw new(0,s.InvalidAddressError)({address:e});if(!(0,o.isAddress)(r))throw new(0,s.InvalidAddressError)({address:r});return e.toLowerCase()===r.toLowerCase()}}));
//# sourceMappingURL=ccip.360df405.js.map
